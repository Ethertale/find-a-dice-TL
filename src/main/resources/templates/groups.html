<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" th:href="@{/css/fonts.css}">
    <title>Find A Dice - Groups</title>

    <style>
        .card {
            aspect-ratio: 2/2;

        }
        .card-body p {
            overflow: hidden; /* if want ..., then text too long */
            text-overflow: ellipsis; /* if want ..., then text too long */
            display: -webkit-box; /* if want ..., in last row */
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 5; /* as many lines as you need */
        }
        h2, h5, h6  {
            font-family: "Metamorphous", serif;
            font-weight: 400;
            font-style: normal;
        }
        p, small {
            font-family: "Macondo", cursive;
            font-weight: 400;
            font-style: normal;
            font-size: 1.2rem;
        }

        .text-overflow{
        }
        .card img {
            aspect-ratio: 5/3;
        }
        #inner-img {
            position: absolute;
            z-index: 4;
        }
        #outer-border {
            z-index: 5;
        }
    </style>
</head>
<body>
<nav th:replace="~{fragments::navbar}"></nav>

<div class="container">
    <div class="row">
        <div class="container">
            <a href="groups/create-group" class="btn btn-secondary my-3">Create A Group</a>
        </div>
        <hr>
        <div th:each="group: ${groups}" class="col-12 col-md-4">
            <a style="text-decoration: none" th:href="'/groups/' +${group.id}">
                <div style="box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.7); border: 2px solid rgba(0, 0, 0, 0.7);" class="card my-3 d-flex justify-content-center align-items-center flex-column">
                    <img class="card-img-top" th:src="${group.imageUrl}" alt="">
                    <div class="card-body d-flex flex-row justify-content-center align-items-center">
                        <div class="row">
                            <small class="text-center" th:text="'Founded on: ' + ${group.getTimestamp()}"></small>
                            <div class="col-12 col-md-6 d-flex flex-column justify-content-start align-items-center text-overflow">
                                <h5 class="card-title text-center">Guildmaster</h5>
                                <div style="position: relative;" class="container d-flex justify-content-center align-items-center">
                                    <img style="min-width: 70px; max-width: 136px; aspect-ratio: 1/1;" id="outer-border" th:src="@{/imgs/Guildmaster-Border.png}" alt="">
                                    <img style="min-width: 64px; max-width: 128px; aspect-ratio: 1/1; border-radius: 50%;" id="inner-img" th:src="${group.createdBy.imageUrl}" alt="">
                                </div>
                                <h6 class="text-center" th:text="${group.createdBy.name}"></h6>
                            </div>
                            <div class="col-12 col-md-6 p-3 text-overflow">
                                <h5 th:text="${group.name}" class="card-title text-center"></h5>
                                <p class="card-text" th:text="${group.description}"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>

<footer th:replace="~{fragments::footer}"></footer>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js"
        integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D"
        crossorigin="anonymous"></script>
</body>
</html>