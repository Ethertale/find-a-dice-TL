<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/navbar-footer.css">
    <style>
        /* ========== FANTASY THEME COLOR PALETTE ========== */
        /*
         * These variables define our consistent color scheme across the entire
         * guild hall experience. By using CSS variables, we can easily maintain
         * visual harmony and make future adjustments efficiently.
         */
        :root {
            --page-bg-1: #061012;
            --page-bg-2: #0f1f14;
            --panel-dark: #0c0f11;
            --panel-accent: #3c2b19;
            --gold: #d9b261;
            --gold-dark: #8f6a36;
            --muted-text: #cfc8b8;
            --light-text: #f7f3e7;
            --accent-glow: rgba(200,150,60,0.12);
            --card-radius: 10px;
        }

        /* ========== BACKGROUND - THE GUILD HALL ATMOSPHERE ========== */
        /*
         * We create the same atmospheric background seen on other pages,
         * giving users the sense they're still within the same physical space.
         */
        html, body {
            min-height: 100%;
            margin: 0;
            padding: 0;
            position: relative;
            font-family: "Georgia", "Palatino Linotype", serif;
            color: var(--muted-text);
            overflow-x: hidden;
        }

        /* The blurred background creates depth and sets the mood */
        body::before {
            content: "";
            position: fixed;
            inset: 0;
            z-index: -1;
            background:
                    linear-gradient(rgba(6,10,8,0.55), rgba(3,6,5,0.65)),
                    url("https://w0.peakpx.com/wallpaper/1014/828/HD-wallpaper-fantasy-of-after-world-war-4-fantasy-vintage-art-retro.jpg")
                    center center / cover no-repeat;
            filter: blur(10px);
            transform: scale(1.05);
        }

        /* ========== MAIN CONTAINER ========== */
        .container {
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
            padding: 2rem 1rem;
            position: relative;
            z-index: 1;
        }

        /* ========== EVENT CARDS - QUEST ANNOUNCEMENTS ========== */
        /*
         * Each event card is designed to look like an ornate announcement plaque
         * or quest notice that might be posted on a medieval guild board. The cards
         * have deep shadows to appear mounted on the wall, and bronze frames to
         * give them weight and importance.
         */
        .card {
            background:
                    linear-gradient(180deg, rgba(8,10,12,0.85), rgba(6,7,9,0.95));
            border-radius: var(--card-radius);
            border: 3px solid var(--panel-accent);
            box-shadow:
                    0 6px 16px rgba(0,0,0,0.7),
                    inset 0 1px 0 rgba(255,255,255,0.02),
                    inset 0 -12px 45px rgba(0,0,0,0.5);
            overflow: hidden;
            transition: all 0.3s ease;
            margin-bottom: 1.5rem;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Hover effect - cards lift slightly as if being examined */
        .card:hover {
            transform: translateY(-4px);
            box-shadow:
                    0 12px 28px rgba(0,0,0,0.8),
                    0 0 25px rgba(217, 178, 97, 0.12),
                    inset 0 1px 0 rgba(255,255,255,0.03),
                    inset 0 -12px 45px rgba(0,0,0,0.5);
        }

        /* Remove default link styling so cards feel integrated */
        a {
            text-decoration: none;
            color: inherit;
        }

        /*
         * The event image is the banner at the top of each announcement.
         * We darken and frame it to match our aesthetic, making it feel
         * like it's part of an illuminated manuscript or painted scroll.
         */
        .card-img-top {
            width: 100%;
            height: 200px;
            object-fit: cover;
            filter: contrast(0.9) brightness(0.8) saturate(0.85);
            border-bottom: 2px solid rgba(60, 43, 25, 0.8);
        }

        /* On hover, the image brightens slightly as if catching light */
        .card:hover .card-img-top {
            filter: contrast(0.95) brightness(0.85) saturate(0.9);
        }

        /* ========== CARD BODY - THE MAIN CONTENT AREA ========== */
        .card-body {
            padding: 1.25rem;
            position: relative;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        /* Top section with avatar and event info */
        .event-header {
            display: flex;
            gap: 1.25rem;
            margin-bottom: 1rem;
            align-items: flex-start;
        }

        /*
         * The creator avatar section is now positioned on the left.
         * We use an ornate border image to frame the avatar like a
         * portrait medallion or seal of authority.
         */
        .avatar-container {
            position: relative;
            flex-shrink: 0;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /*
         * The outer border image is positioned absolutely to overlay the avatar.
         * This creates the effect of a decorative frame around the portrait.
         */
        .avatar-border {
            position: absolute;
            width: 120px;
            height: 120px;
            pointer-events: none;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.6));
            z-index: 2;
        }

        /*
         * The inner avatar image sits within the frame. We add shadows to give
         * it depth and make it feel like it's set into the plaque.
         */
        .avatar-image {
            width: 112px;
            height: 112px;
            border-radius: 50%;
            position: relative;
            z-index: 1;
            box-shadow:
                    0 4px 12px rgba(0,0,0,0.7),
                    inset 0 2px 6px rgba(0,0,0,0.4);
            border: 2px solid rgba(0,0,0,0.5);
            object-fit: cover;
        }

        /* Event info section on the right side */
        .event-info {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        /*
         * Event titles are styled as prominent golden inscriptions - the most
         * important information on the announcement.
         */
        .event-title {
            font-family: "Palatino Linotype", "Book Antiqua", serif;
            font-weight: 700;
            font-size: 1.75rem;
            color: var(--gold);
            letter-spacing: 0.8px;
            margin-bottom: 0.75rem;
            text-shadow:
                    0 2px 0 rgba(0,0,0,0.8),
                    0 2px 8px rgba(60,40,12,0.15);
            line-height: 1.2;
        }

        /* Event metadata (organizer, location, time) */
        .event-metadata {
            margin-bottom: 0.75rem;
        }

        .event-metadata p {
            color: var(--muted-text);
            font-size: 0.9rem;
            margin: 0.25rem 0;
            text-shadow: 0 1px 2px rgba(0,0,0,0.6);
            line-height: 1.4;
        }

        .event-metadata strong {
            color: var(--gold);
            font-weight: 700;
        }

        /* Action buttons container */
        .event-actions {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        /* Individual action buttons */
        .event-btn {
            background: linear-gradient(180deg, #4a3616, var(--gold-dark));
            color: #111;
            border: 2px solid var(--gold-dark);
            border-radius: 6px;
            padding: 0.5rem 1.25rem;
            font-weight: 700;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow:
                    0 3px 8px rgba(0, 0, 0, 0.6),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            flex: 1;
            min-width: 100px;
            text-align: center;
        }

        .event-btn:hover {
            background: linear-gradient(180deg, #5a4320, var(--gold));
            transform: translateY(-1px);
            box-shadow:
                    0 5px 12px rgba(0, 0, 0, 0.7),
                    0 0 12px rgba(217, 178, 97, 0.2);
        }

        .event-btn:active {
            transform: translateY(0px);
        }

        /* ========== EVENT DESCRIPTION SECTION ========== */
        /*
         * The description area now spans the full width of the card,
         * giving plenty of room for event details.
         */
        .event-description {
            border-top: 2px solid rgba(60, 43, 25, 0.5);
            padding: 1rem 0 0 0;
            margin-top: 1rem;
        }

        .event-description h5 {
            font-family: "Palatino Linotype", "Book Antiqua", serif;
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--gold);
            letter-spacing: 0.6px;
            margin-bottom: 0.5rem;
            text-shadow: 0 1px 0 rgba(0,0,0,0.8);
            text-align: center;
        }

        .event-description p {
            color: #e9e1d6;
            line-height: 1.6;
            font-size: 0.95rem;
            opacity: 0.95;
            text-shadow: 0 1px 2px rgba(0,0,0,0.6);
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }

        /* ========== GRID LAYOUT ADJUSTMENTS ========== */
        /*
         * The card grid uses Bootstrap's responsive column system.
         * On larger screens, we show 3 cards per row. On tablets, 2 per row.
         * On mobile, cards stack vertically for easy scrolling.
         */
        .row {
            margin: 0 -0.75rem;
        }

        [class*="col-"] {
            padding: 0 0.75rem;
        }

        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 992px) {
            /* On tablets, reduce card image height slightly */
            .card-img-top {
                height: 180px;
            }

            .event-title {
                font-size: 1.5rem;
            }

            .avatar-container {
                width: 100px;
                height: 100px;
            }

            .avatar-border {
                width: 100px;
                height: 100px;
            }

            .avatar-image {
                width: 92px;
                height: 92px;
            }
        }

        @media (max-width: 768px) {
            /* On mobile, make cards more compact */
            .container {
                padding: 1rem 0.5rem;
            }

            .card {
                margin-bottom: 1rem;
            }

            .card-img-top {
                height: 160px;
            }

            .event-title {
                font-size: 1.4rem;
            }

            .card-body {
                padding: 1rem;
            }

            /* Stack header vertically on mobile */
            .event-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .avatar-container {
                width: 100px;
                height: 100px;
                margin-bottom: 0.75rem;
            }

            .avatar-border {
                width: 100px;
                height: 100px;
            }

            .avatar-image {
                width: 92px;
                height: 92px;
            }

            .event-info {
                width: 100%;
            }

            .event-metadata p {
                font-size: 0.85rem;
            }

            .event-btn {
                font-size: 0.8rem;
                padding: 0.45rem 1rem;
            }
        }

        @media (max-width: 576px) {
            .event-title {
                font-size: 1.25rem;
            }

            .event-header {
                gap: 1rem;
            }

            .avatar-container {
                width: 90px;
                height: 90px;
            }

            .avatar-border {
                width: 90px;
                height: 90px;
            }

            .avatar-image {
                width: 82px;
                height: 82px;
            }

            .event-actions {
                flex-direction: column;
            }

            .event-btn {
                width: 100%;
            }
        }

        /* ========== CUSTOM SCROLLBAR ========== */
        /*
         * Even the scrollbar maintains our fantasy aesthetic with bronze
         * and dark tones rather than default browser chrome.
         */
        ::-webkit-scrollbar {
            height: 10px;
            width: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #4a381f, #2b210c);
            border-radius: 10px;
            border: 2px solid rgba(0,0,0,0.45);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #5a4825, #3a2815);
        }

        ::-webkit-scrollbar-track {
            background: linear-gradient(180deg, rgba(0,0,0,0.15), rgba(0,0,0,0.25));
        }
    </style>
    <title>Find A Dice - Events</title>
</head>
<body>
<nav th:replace="~{fragments::navbar}"></nav>

<div class="container">
    <div class="row">
        <!-- Each event is rendered as an ornate announcement card -->
        <div class="col-12 col-md-6 col-lg-4" th:each="event: ${events}">
            <a th:href="'/events/' + ${event.id}">
                <div class="card">
                    <!-- Event banner image -->
                    <img th:src="${event.image}" class="card-img-top" alt="Event Banner">

                    <!-- Card body -->
                    <div class="card-body">
                        <!-- Event title - prominently displayed -->
                        <h2 class="event-title" th:text="${event.title}">Event Title</h2>

                        <!-- Header section with avatar and event info -->
                        <div class="event-header">
                            <!-- Creator avatar with ornate frame -->
                            <div class="avatar-container">
                                <img class="avatar-border"
                                     th:src="@{/imgs/Guildmaster-Border.png}"
                                     alt="Decorative Border">
                                <img class="avatar-image"
                                     th:src="${event.createdByEvent.imageUrl}"
                                     alt="Event Creator">
                            </div>

                            <!-- Event information and actions -->
                            <div class="event-info">
                                <!-- Event metadata -->
                                <div class="event-metadata">
                                    <p><strong>Organized by:</strong> <span th:text="${event.createdByEvent.name}">Creator Name</span></p>
                                    <p><strong>Location:</strong> <span th:text="${event.location}">Location</span></p>
                                    <p><strong>Time:</strong> <span th:text="${event.startTime}">Date</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Event description - full width at bottom -->
                        <div class="event-description">
                            <h5>Description</h5>
                            <p th:text="${event.description}">Event description goes here...</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>

<footer th:replace="~{fragments::footer}"></footer>

<!-- Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js"
        integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D"
        crossorigin="anonymous"></script>
</body>
</html>